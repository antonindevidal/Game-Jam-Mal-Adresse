[gd_scene load_steps=7 format=3 uid="uid://dj6eesxqpad45"]

[ext_resource type="Script" path="res://Scripts/Level.gd" id="1_nr7ws"]
[ext_resource type="PackedScene" uid="uid://cg1pgl7dxjhfj" path="res://Scenes/UI/LevelUi.tscn" id="1_w7qxa"]
[ext_resource type="MeshLibrary" uid="uid://od6cw00bie42" path="res://Resources/MeshLibrairy/WorldLibFBX.tres" id="3_juts6"]
[ext_resource type="MeshLibrary" uid="uid://dw50cqcq7qsnb" path="res://Resources/MeshLibrairy/RailsLibrary.tres" id="4_hyclq"]
[ext_resource type="PackedScene" uid="uid://c10sk0nl5hx0y" path="res://Resources/Models/World/FBX/Models/FBX format/tree_pineRoundA.fbx" id="4_qjt67"]
[ext_resource type="PackedScene" uid="uid://cyhls8uowy3xt" path="res://Resources/Models/Trains/train-diesel-a.glb" id="5_q387l"]

[node name="Level1" type="Node3D" node_paths=PackedStringArray("trains")]
script = ExtResource("1_nr7ws")
trains = [NodePath("train-diesel-a2"), NodePath("train-diesel-a3")]
startPos = Array[Vector3i]([Vector3i(0, 1, 2), Vector3i(0, 1, 5)])
endPos = Array[Vector3i]([Vector3i(11, 1, 2), Vector3i(11, 1, 5)])

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="LevelUi" parent="CanvasLayer" instance=ExtResource("1_w7qxa")]

[node name="Map" type="Node3D" parent="."]

[node name="World" type="GridMap" parent="Map"]
mesh_library = ExtResource("3_juts6")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(1, 0, 40, 1, 1, 40, 1, 2, 40, 0, 2, 40, 0, 1, 40, 0, 0, 40, 0, 3, 40, 0, 4, 40, 1, 4, 40, 1, 5, 40, 1, 6, 40, 1, 7, 40, 1, 8, 40, 2, 8, 40, 3, 8, 40, 3, 7, 40, 4, 6, 40, 4, 5, 40, 4, 4, 40, 4, 3, 40, 3, 2, 40, 3, 1, 40, 2, 2, 40, 2, 3, 40, 2, 4, 40, 2, 5, 40, 2, 6, 40, 2, 7, 40, 1, 3, 40, 3, 4, 40, 3, 5, 40, 3, 6, 40, 0, 6, 40, 0, 5, 40, 0, 7, 40, 0, 8, 40, 3, 3, 40, 2, 1, 40, 2, 0, 40, 3, 0, 40, 4, 0, 40, 4, 1, 40, 4, 2, 40, 4, 7, 40, 4, 8, 40, 5, 8, 40, 5, 7, 40, 6, 7, 40, 6, 6, 40, 6, 5, 40, 6, 4, 40, 6, 3, 40, 6, 2, 40, 6, 1, 40, 5, 1, 40, 5, 0, 40, 5, 2, 40, 5, 3, 40, 5, 4, 40, 5, 5, 40, 5, 6, 40, 6, 8, 40, 6, 0, 40, 7, 0, 40, 7, 1, 40, 7, 2, 40, 7, 3, 40, 7, 4, 40, 8, 5, 40, 8, 6, 40, 8, 7, 40, 7, 7, 40, 7, 6, 40, 7, 5, 40, 7, 8, 40, 8, 8, 40, 9, 8, 40, 11, 1, 40, 11, 0, 40, 10, 1, 40, 9, 1, 40, 9, 0, 40, 8, 0, 40, 10, 0, 40, 8, 1, 40, 8, 2, 40, 8, 3, 40, 8, 4, 40, 9, 5, 40, 10, 5, 40, 11, 4, 40, 11, 2, 40, 10, 3, 40, 9, 6, 40, 9, 7, 40, 10, 4, 40, 10, 2, 40, 10, 6, 40, 9, 2, 40, 9, 3, 40, 9, 4, 40, 11, 5, 40, 11, 3, 40, 10, 7, 40, 131071, 3, 40, 131071, 4, 1048616, 131071, 5, 1048616, 131071, 6, 1048616, 131071, 7, 1048616, 131071, 8, 655400, 131071, 2, 1048602, 131071, 1, 1048616, 131071, 0, 1048616, 131071, 65535, 1048616, 0, 65535, 1048616, 1, 65535, 1048616, 2, 65535, 1048616, 3, 65535, 1048616, 4, 65535, 1048616, 5, 65535, 1048616, 6, 65535, 1048616, 7, 65535, 1048616, 8, 65535, 1048616, 9, 65535, 1048616, 10, 65535, 1048616, 11, 65535, 1048616, 65536, 65535, 1048604, 65537, 65535, 1048878, 65538, 65535, 1048878, 65539, 65535, 1048879, 65540, 65535, 1048878, 65541, 65535, 1048878, 65542, 65535, 1048879, 65543, 65535, 1048878, 65544, 65535, 1048870, 65545, 65535, 1048878, 65546, 65535, 1048878, 65547, 65535, 1048878, 65536, 9, 655512, 65537, 9, 655512, 65538, 9, 655512, 65539, 9, 655512, 65540, 9, 655512, 65541, 9, 655512, 65542, 9, 655512, 65543, 9, 655512, 65544, 9, 655512, 65536, 10, 655510, 65537, 10, 655510, 65538, 10, 655510, 65539, 10, 655510, 65540, 10, 655510, 65541, 10, 655510, 65542, 10, 655510, 65543, 10, 655510, 65544, 10, 655510, 65545, 9, 655512, 65546, 8, 655505, 65547, 8, 1048722, 65547, 9, 1048726, 65546, 9, 1048722, 65548, 8, 1048726, 65549, 8, 1441938, 65549, 7, 1048726, 65550, 6, 655512, 65550, 7, 1441938, 65551, 6, 655512, 65547, 7, 1441944, 65547, 6, 655505, 65548, 6, 655512, 65549, 6, 655512, 65536, 11, 152, 65537, 11, 152, 65538, 11, 152, 65540, 11, 152, 65539, 11, 152, 65541, 11, 152, 65542, 11, 152, 65543, 11, 152, 65544, 11, 152, 65545, 11, 152, 65546, 11, 152, 65548, 10, 145, 65547, 10, 1441938, 65547, 11, 145, 65549, 9, 145, 65550, 8, 145, 65551, 7, 152, 65548, 9, 1441938, 65545, 10, 1441942, 65546, 10, 1441942, 65548, 7, 1441942, 65552, 6, 655512, 65553, 6, 655512, 65554, 6, 655512, 65552, 7, 152, 65553, 7, 152, 65554, 7, 152, 65548, 65535, 655400, 65548, 0, 655400, 65548, 1, 655400, 65548, 2, 655400, 65548, 3, 655400, 65548, 4, 655400, 65548, 5, 28, 65549, 5, 655400, 65550, 5, 655400, 65551, 5, 655400, 65552, 5, 655400, 65553, 5, 655400, 65554, 5, 655400, 65554, 4, 655400, 65553, 4, 655400, 65552, 4, 655400, 65551, 3, 655400, 65550, 3, 655400, 65550, 2, 655400, 65551, 2, 655400, 65552, 2, 655400, 65553, 3, 655400, 65554, 3, 655400, 65552, 3, 655400, 65549, 3, 655400, 65550, 4, 655400, 65549, 4, 655400, 65551, 4, 655400, 65554, 2, 655400, 65554, 1, 655400, 65554, 0, 655400, 65553, 0, 655400, 65553, 65535, 655400, 65552, 65535, 655400, 65551, 65535, 655400, 65550, 65535, 655400, 65549, 65535, 655400, 65554, 65535, 655400, 65553, 1, 655400, 65552, 1, 655400, 65552, 0, 655400, 65551, 1, 655400, 65550, 1, 655400, 65549, 1, 655400, 65549, 2, 655400, 65553, 2, 655400, 65551, 0, 655400, 65550, 0, 655400, 65549, 0, 655400, 65536, 65534, 655400, 65537, 65533, 655400, 65538, 65533, 655400, 65539, 65532, 655400, 65541, 65532, 1048604, 65540, 65532, 655400, 65542, 65531, 655400, 65543, 65531, 655400, 65544, 65531, 655400, 65545, 65531, 655400, 65545, 65530, 655400, 65546, 65532, 655400, 65547, 65533, 655400, 65548, 65533, 655400, 65548, 65534, 655400, 11, 65534, 655400, 10, 65534, 655400, 9, 65534, 655400, 8, 65534, 655400, 7, 65534, 655400, 6, 65534, 655400, 5, 65534, 655400, 4, 65534, 655400, 3, 65534, 655400, 2, 65534, 655400, 1, 65534, 655400, 3, 65533, 655400, 4, 65533, 655400, 5, 65533, 655400, 4, 65532, 655400, 6, 65532, 655400, 7, 65532, 655400, 8, 65532, 655400, 9, 65532, 655400, 10, 65532, 655400, 11, 65532, 655400, 10, 65533, 655400, 9, 65533, 655400, 8, 65533, 655400, 7, 65533, 655400, 6, 65533, 655400, 65544, 65530, 655400, 65544, 65529, 655400, 65543, 65529, 655400, 65542, 65529, 655400, 65541, 65529, 655400, 65540, 65529, 655400, 65540, 65530, 655400, 65541, 65530, 655400, 65542, 65530, 655400, 65543, 65530, 655400, 65540, 65531, 655400, 65541, 65531, 655400, 65539, 65531, 655400, 65538, 65531, 655400, 65537, 65531, 655400, 65537, 65532, 655400, 65536, 65532, 655400, 131071, 65532, 655400, 131071, 65533, 655400, 131070, 65533, 655400, 131070, 65534, 655400, 131071, 65534, 655400, 65538, 65532, 655400, 65536, 65533, 655400, 131070, 65532, 655400, 131071, 65531, 655400, 65536, 65531, 655400, 65539, 65530, 655400, 65539, 65529, 655400, 65538, 65530, 655400, 65537, 65530, 655400, 65536, 65530, 655400, 131071, 65530, 655400, 65540, 65528, 655400, 65539, 65528, 655400, 65538, 65529, 655400, 65537, 65529, 655400, 131070, 65530, 655400, 131070, 65531, 655400, 131069, 65531, 655400, 131069, 65532, 655400, 131069, 65534, 655400, 131069, 65535, 655400, 131068, 65534, 655400, 131068, 65533, 655400, 131068, 65532, 655400, 131068, 65531, 655400, 131069, 65533, 655400, 131069, 0, 655400, 131069, 1, 655400, 131068, 65535, 655400, 131068, 0, 655400, 131068, 1, 655400, 131068, 2, 655400, 131069, 2, 655400, 131069, 3, 655400, 131069, 4, 655400, 131069, 5, 655400, 131069, 6, 655400, 131068, 3, 655400, 131070, 65535, 655400, 131070, 0, 655400, 131070, 1, 655400, 131070, 2, 655400, 131070, 3, 655400, 131070, 4, 655400, 131070, 5, 655400, 131070, 6, 655400, 131070, 7, 655400, 131067, 3, 655400, 131068, 4, 655400, 131068, 5, 655400, 131068, 6, 655400, 131069, 7, 655400, 131069, 8, 655400, 131069, 9, 655400, 131069, 10, 655400, 131069, 11, 655400, 131070, 8, 655400, 131071, 9, 655400, 131071, 10, 655400, 131071, 11, 655400, 131071, 12, 655400, 131070, 12, 655400, 131070, 11, 655400, 131070, 10, 655400, 131070, 9, 655400, 131069, 12, 655400, 131068, 11, 655400, 131068, 10, 655400, 131068, 9, 655400, 131068, 8, 655400, 131068, 7, 655400, 131067, 5, 655400, 131067, 4, 655400, 131067, 2, 655400, 131068, 12, 655400, 131067, 10, 655400, 131067, 9, 655400, 131067, 8, 655400, 131067, 7, 655400, 131067, 6, 655400, 131066, 2, 655400, 131066, 1, 655400, 131066, 0, 655400, 131066, 65535, 655400, 131066, 65534, 655400, 131066, 65533, 655400, 131066, 65532, 655400, 131067, 65532, 655400, 131067, 65531, 655400, 131067, 65533, 655400, 131067, 65534, 655400, 131067, 65535, 655400, 131067, 0, 655400, 131067, 1, 655400, 131067, 11, 655400, 131066, 11, 655400, 131067, 12, 655400, 131066, 12, 655400, 131066, 10, 655400, 131066, 9, 655400, 131066, 8, 655400, 131066, 7, 655400, 131066, 6, 655400, 131066, 5, 655400, 131066, 4, 655400, 131066, 3, 655400, 65551, 65533, 655400, 65550, 65533, 655400, 65550, 65534, 655400, 65551, 65534, 655400, 65552, 65534, 655400, 65553, 65534, 655400, 65554, 65534, 655400, 65554, 65533, 655400, 65554, 65532, 655400, 65553, 65532, 655400, 65553, 65533, 655400, 65552, 65533, 655400, 65553, 65531, 655400, 65552, 65531, 655400, 65552, 65532, 655400, 65551, 65532, 655400, 65549, 65534, 655400, 65549, 65533, 655400, 65549, 65532, 655400, 65549, 65531, 655400, 65548, 65531, 655400, 65550, 65531, 655400, 65550, 65532, 655400, 65551, 65531, 655400, 65548, 65532, 655400, 65547, 65531, 655400, 65547, 65532, 655400, 65547, 65530, 655400, 65546, 65530, 655400, 65546, 65531, 655400, 65548, 65530, 655400, 65549, 65530, 655400, 65550, 65530, 655400, 65551, 65530, 655400, 65552, 65530, 655400, 65553, 65530, 655400, 65554, 65530, 655400, 65554, 65531, 655400, 65554, 65529, 655400, 65553, 65529, 655400, 65552, 65529, 655400, 65551, 65529, 655400, 65550, 65529, 655400, 65549, 65529, 655400, 65548, 65529, 655400, 65547, 65529, 655400, 65545, 65529, 655400, 65546, 65529, 655400, 65547, 65528, 655400, 65546, 65528, 655400, 65545, 65528, 655400, 65541, 65528, 655400, 65542, 65528, 655400, 65543, 65528, 655400, 65544, 65528, 655400, 65538, 65528, 655400, 65537, 65528, 655400, 65536, 65528, 655400, 65536, 65529, 655400, 131069, 65530, 655400, 131068, 65530, 655400, 131071, 65529, 655400, 131070, 65529, 655400, 131069, 65529, 655400, 131067, 65530, 655400, 131066, 65531, 655400, 131066, 65530, 655400, 131067, 65529, 655400, 131068, 65529, 655400, 131071, 65528, 655400, 131070, 65528, 655400, 131069, 65528, 655400, 131068, 65528, 655400, 131067, 65528, 655400, 131066, 65529, 655400, 131066, 65528, 655400, 65548, 65528, 655400, 65549, 65528, 655400, 65550, 65528, 655400, 65551, 65528, 655400, 65552, 65528, 655400, 65553, 65528, 655400, 65554, 65528, 655400, 65537, 65534, 1048604, 65538, 65534, 655654, 65539, 65534, 655654, 65540, 65534, 655654, 65540, 65533, 655654, 65539, 65533, 1048604, 65541, 65533, 655654, 65542, 65533, 655654, 65543, 65533, 655654, 65543, 65532, 655654, 65542, 65532, 655654, 65541, 65534, 655654, 65542, 65534, 655654, 65544, 65533, 655654, 65545, 65533, 655654, 65543, 65534, 655654, 65544, 65534, 655654, 65545, 65534, 655654, 65546, 65534, 655654, 65547, 65534, 28, 65546, 65533, 28, 65545, 65532, 28, 65544, 65532, 655654, 12, 4, 40, 12, 5, 40, 65534, 2, 40, 65534, 1, 40, 65535, 2, 40, 65535, 3, 40, 65534, 3, 40, 65534, 4, 40, 65534, 5, 40, 65535, 5, 40, 65535, 1, 40, 65535, 0, 40, 65534, 0, 40, 65534, 6, 40, 65534, 7, 40, 65534, 8, 40, 65534, 9, 40, 65534, 10, 40, 65534, 11, 40, 5, 65532, 40)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Tree" type="Node3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="tree_pineRoundA" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.00415, 0, -2.68564)

[node name="tree_pineRoundA14" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.69365, 0, 0.280873)

[node name="tree_pineRoundA2" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.9086, 0, -3.57556)

[node name="tree_pineRoundA13" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.96787, 0, -0.151876)

[node name="tree_pineRoundA15" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.6336, 0, 0.154101)

[node name="tree_pineRoundA16" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.7605, 0, 0.00609303)

[node name="tree_pineRoundA3" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.92429, 0, -3.76068)

[node name="tree_pineRoundA4" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.15248, 2.38419e-07, -2.26025)

[node name="tree_pineRoundA5" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.9915, 2.38419e-07, -1.84841)

[node name="tree_pineRoundA6" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.52096, 2.38419e-07, -1.20132)

[node name="tree_pineRoundA7" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.92291, 2.38419e-07, -0.971524)

[node name="tree_pineRoundA9" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.91134, 2.38419e-07, -0.539051)

[node name="tree_pineRoundA10" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.03755, 2.38419e-07, -0.834612)

[node name="tree_pineRoundA11" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.97555, 2.38419e-07, 0.12749)

[node name="tree_pineRoundA12" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.1565, -2.38419e-07, -0.828562)

[node name="tree_pineRoundA8" parent="Map/Tree" instance=ExtResource("4_qjt67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.59068, 7.15256e-07, -1.79137)

[node name="Borders" type="GridMap" parent="Map"]
mesh_library = ExtResource("3_juts6")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(65536, 9, 1048652, 65536, 10, 1048652, 65536, 11, 1048652, 65536, 7, 1048652, 65536, 6, 1048652, 65536, 4, 1048652, 65536, 3, 1048652, 65536, 1, 1048652, 65536, 65535, 1048650, 65537, 65534, 1048650, 65539, 65533, 1048650, 65541, 65532, 1048650, 65545, 65532, 74, 65546, 65533, 74, 65547, 65534, 74, 65548, 5, 74, 65536, 0, 1048652, 65538, 65534, 76, 65542, 65532, 76, 65543, 65532, 76, 65544, 65531, 76, 65544, 65532, 76, 65547, 0, 1441868, 65547, 1, 1441868, 65547, 2, 1441868, 65547, 65535, 1441868, 65547, 4, 1441868, 65547, 3, 1441868, 65549, 6, 76, 65550, 6, 76, 65554, 6, 76, 65553, 6, 76, 65552, 6, 76, 65551, 6, 76, 65536, 5, 1048618, 65536, 8, 1048618, 65536, 2, 1048618)
}
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.258819, 0.965925, 0, -0.965925, 0.258819, 6, 8, 7)

[node name="RailGrid" type="GridMap" parent="."]
mesh_library = ExtResource("4_hyclq")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.827571, 0.561361, 0, -0.561361, 0.827571, 0, 3.57485, 0)

[node name="train-diesel-a2" parent="." instance=ExtResource("5_q387l")]
transform = Transform3D(-2.18557e-08, 0, 0.5, 0, 0.5, 0, -0.5, 0, -2.18557e-08, 0.75, 1.94685, 2.99707)

[node name="train-diesel-a3" parent="." instance=ExtResource("5_q387l")]
transform = Transform3D(-2.18557e-08, 0, 0.5, 0, 0.5, 0, -0.5, 0, -2.18557e-08, 0.75, 1.94685, 2.99707)

[connection signal="play" from="CanvasLayer/LevelUi" to="." method="_on_play"]
[connection signal="select_item" from="CanvasLayer/LevelUi" to="." method="on_item_selected"]
[connection signal="select_recycle" from="CanvasLayer/LevelUi" to="." method="on_recycle_selected"]
[connection signal="select_wrench" from="CanvasLayer/LevelUi" to="." method="on_wrench_selected"]
